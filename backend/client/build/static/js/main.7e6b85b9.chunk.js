(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,c){},46:function(e,t,c){},52:function(e,t,c){},79:function(e,t,c){},92:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(2),r=c.n(a),s=c(16),i=c.n(s),o=c(27),j=c(9),l=c(5),d=c.n(l),u=c(10),b=c(18),h=c(19),O=c(23),p=c(22),x=c(12),f=c.n(x),m=c(95),g=c(96),v=(c(46),function(e){return Object(n.jsx)("div",{className:"div-table-home",children:Object(n.jsx)("div",{className:"table-last-ten",children:Object(n.jsxs)(m.a,{hover:!0,children:[Object(n.jsx)("thead",{className:"thead-list",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Fecha"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Tipo"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Concepto"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Monto"})})]})}),0===e.lastTen.length?Object(n.jsx)(g.a,{color:"info",className:"spinner-list"}):e.lastTen.map((function(e){return Object(n.jsx)("tbody",{className:"tbody-last-ten",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row"}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:e.date})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:e.type})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:e.concept})}),Object(n.jsx)("td",{children:Object(n.jsxs)("p",{children:["$ ",e.amount]})})]})})}))]})})})}),y="https://mypersonalbudgets.herokuapp.com",N=function(e){Object(O.a)(c,e);var t=Object(p.a)(c);function c(){var e;Object(b.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={totalEntry:0,totalEgress:0,result:0,lastTen:[]},e.getRegistry=Object(u.a)(d.a.mark((function t(){var c,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("".concat(y,"/api/registry"));case 2:c=t.sent,n=c.data.registry,e.separator(n),e.lastTen(n);case 6:case"end":return t.stop()}}),t)}))),e.balance=function(t,c){var n=0,a=0;t.map((function(e){return n+=e})),c.map((function(e){return a+=e})),e.setState({totalEntry:n,totalEgress:a,result:n-a})},e.separator=function(t){var c=[],n=[];t.map((function(e){return"Ingreso"===e.type?c.push(e.amount):n.push(e.amount)})),e.balance(c,n)},e.lastTen=function(){var t=Object(u.a)(d.a.mark((function t(c){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.slice(-10).reverse();case 2:n=t.sent,e.setState({lastTen:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(c,[{key:"componentDidMount",value:function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRegistry();case 2:window.scrollTo(0,0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.result<5e3)var e={color:"#ec1818"};else e={color:"#56ff91"};return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{style:{marginTop:"15vh"},children:[Object(n.jsxs)("div",{className:"table-container",children:[Object(n.jsx)("h3",{children:"Balance actual"}),Object(n.jsx)("hr",{className:"row-line-balance"}),Object(n.jsxs)(m.a,{dark:!0,className:"balance",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Ingresos"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Gastos"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Resultante"})})]})}),Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{className:"tr-balance-table",children:[Object(n.jsx)("th",{scope:"row"}),Object(n.jsx)("td",{children:this.state.totalEntry?"$ ".concat(this.state.totalEntry):Object(n.jsx)(g.a,{color:"info"})}),Object(n.jsx)("td",{children:this.state.totalEgress?"$ ".concat(this.state.totalEgress):Object(n.jsx)(g.a,{color:"info"})}),Object(n.jsx)("td",{style:e,children:this.state.result?"$ ".concat(this.state.result):Object(n.jsx)(g.a,{color:"info"})})]})})]})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("hr",{className:"row-line"}),Object(n.jsx)("div",{className:"div-title",children:Object(n.jsx)("h3",{children:"\xdaltimos registros"})}),Object(n.jsx)(v,{lastTen:this.state.lastTen})]})]})})}}]),c}(r.a.Component),k=(c(79),function(e){Object(O.a)(c,e);var t=Object(p.a)(c);function c(){return Object(b.a)(this,c),t.apply(this,arguments)}return Object(h.a)(c,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"header",children:[Object(n.jsx)("h1",{className:"logo",children:"Mis presupuestos"}),Object(n.jsxs)("div",{className:"header-right",children:[Object(n.jsx)(o.b,{className:"menu",to:"/",children:"Inicio"}),Object(n.jsx)(o.b,{className:"menu",to:"/operations",children:"Operaciones"})]})]})}}]),c}(r.a.Component)),w=c(54),C=c(97),R=c(105),T=c(98),S=c(99),E=c(100),M=c(101),D=c(102),F=c(103),I=c(104),_=c(28),$=(c(82),c(25),function(e){Object(O.a)(c,e);var t=Object(p.a)(c);function c(){var e;Object(b.a)(this,c);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={modal:!1,type:"",concept:"",amount:0,date:"",disabled:!1},e.toggle=function(){e.setState({modal:!e.state.modal,disabled:!1})},e.getData=function(t){var c=t.target.name,n=t.target.value;e.setState(Object(w.a)({},c,n))},e.notify=function(){_.c.dark(Object(n.jsx)("h4",{className:"toast-text",children:"Datos registrados correctamente"}),{transition:_.b,position:_.c.POSITION.BOTTOM_CENTER,hideProgressBar:!0,delay:500})},e.toRegister=function(){var t=Object(u.a)(d.a.mark((function t(c){var n,a,r,s,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),e.setState({disabled:!e.state.disabled}),n=e.state,a=n.type,r=n.concept,s=n.amount,i=n.date,""!==a&&""!==r&&""!==s&&""!==i){t.next=8;break}alert("Hay datos incompletos"),e.setState({disabled:!1}),t.next=11;break;case 8:return o={type:e.state.type,concept:e.state.concept,amount:e.state.amount,date:e.state.date},t.next=11,f.a.post("".concat(y,"/api/registry"),o).then(function(){var t=Object(u.a)(d.a.mark((function t(c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==c.data.success){t.next=6;break}return t.next=3,e.setState({modal:!e.state.modal});case 3:e.notify(),e.setState({type:"",concept:"",amount:0,date:""}),e.props.getRegistry();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){alert("Hubo un problema al intentar cargar los datos"),e.setState({type:"",concept:"",amount:0,date:"",disabled:!e.state.disabled}),e.toggle()}));case 11:case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(c,[{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{marginLeft:"2rem"},children:[Object(n.jsx)(C.a,{className:"buttonForm",color:"danger",onClick:this.toggle,children:Object(n.jsx)("h6",{children:"cargar nueva operaci\xf3n"})}),Object(n.jsxs)(R.a,{isOpen:this.state.modal,toggle:this.toggle,className:"modal-form",children:[Object(n.jsx)(T.a,{toggle:this.toggle,children:"Formulario de operaciones"}),Object(n.jsx)(S.a,{children:Object(n.jsxs)(E.a,{children:[Object(n.jsxs)(M.a,{children:[Object(n.jsx)(D.a,{for:"type",className:"label-form",children:"Tipo"}),Object(n.jsxs)(F.a,{type:"select",name:"type",onChange:this.getData,children:[Object(n.jsx)("option",{name:"",children:"--Selecciona una operaci\xf3n--"}),Object(n.jsx)("option",{name:"Ingreso",children:"Ingreso"}),Object(n.jsx)("option",{name:"Egreso",children:"Egreso"})]})]}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)(D.a,{for:"concept",className:"label-form",children:"Concepto"}),Object(n.jsx)(F.a,{type:"text",name:"concept",autoComplete:"off",onChange:this.getData})]}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)(D.a,{for:"amount",className:"label-form",children:"Monto"}),Object(n.jsx)(F.a,{type:"number",name:"amount",placeholder:"$",onChange:this.getData})]}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)(D.a,{for:"date",className:"label-form",children:"Fecha"}),Object(n.jsx)(F.a,{type:"date",name:"date",onChange:this.getData})]})]})}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(C.a,{className:"button-modal",color:"primary",disabled:this.state.disabled,onClick:this.toRegister,children:"Registrar"}),Object(n.jsx)(C.a,{className:"button-modal",color:"secondary",onClick:this.toggle,children:"Cancelar"})]})]})]}),Object(n.jsx)("div",{children:Object(n.jsx)(_.a,{className:"toast-container"})})]})}}]),c}(r.a.Component)),A=c(20),B=c(21),L=c(13),z=c.n(L),H=c(26),J=function(e){var t=Object(a.useState)(!1),c=Object(H.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)(""),o=Object(H.a)(i,2),j=o[0],l=o[1],b=function(){var e=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!1),t.next=3,e.getRegistry();case 3:z()("Accion completada","Concepto modificado correctamente","success");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(d.a.mark((function e(t,c){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,""!==j){e.next=5;break}alert("No se ha modificado el concepto ".concat(c)),e.next=9;break;case 5:return e.next=7,f.a.put("".concat(y,"/api/modify/concept/").concat(n),{concept:j});case 7:!0===e.sent.data.success?h():z()("Ocurri\xf3 un error","no se pudo concretar la modificaci\xf3n","error");case 9:case 10:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("td",{children:[r?Object(n.jsxs)(M.a,{children:[Object(n.jsx)(F.a,{type:"text",name:"concept",autoComplete:"off",onChange:function(e){var t=e.target.value;l(t)},defaultValue:e.data}),Object(n.jsxs)("div",{className:"modify",children:[Object(n.jsx)(C.a,{onClick:function(){return O(e.id,e.data)},children:"Modificar"}),Object(n.jsx)(C.a,{onClick:function(){return s(!1)},children:"Cancelar"})]})]}):Object(n.jsx)("p",{children:e.data}),Object(n.jsx)(A.a,{className:"icon",icon:B.a,onClick:b})]})})},P=function(e){var t=Object(a.useState)(!1),c=Object(H.a)(t,2),r=c[0],s=c[1],i=Object(a.useState)(0),o=Object(H.a)(i,2),j=o[0],l=o[1],b=function(){var t=Object(u.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!1),t.next=3,e.getRegistry();case 3:z()("Accion completada","Monto modificado correctamente","success");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(d.a.mark((function e(t,c){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,0!==j){e.next=5;break}alert("No se ha modificado el monto ".concat(c)),e.next=9;break;case 5:return e.next=7,f.a.put("".concat(y,"/api/modify/amount/").concat(n),{amount:j});case 7:!0===e.sent.data.success?b():z()("Ocurri\xf3 un error","no se pudo concretar la modificaci\xf3n","error");case 9:case 10:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(n.jsxs)("td",{children:[r?Object(n.jsxs)(M.a,{children:[Object(n.jsx)(F.a,{type:"text",name:"amount",autoComplete:"off",onChange:function(e){var t=e.target.value;l(t)},defaultValue:e.data}),Object(n.jsxs)("div",{className:"modify",children:[Object(n.jsx)(C.a,{onClick:function(){return h(e.id,e.data)},children:"Modificar"}),Object(n.jsx)(C.a,{onClick:function(){return s(!1)},children:"Cancelar"})]})]}):Object(n.jsxs)("p",{children:["$ ",e.data]}),Object(n.jsx)(A.a,{className:"icon",icon:B.a,onClick:function(){s(!0)}})]})},V=function(e){var t=function(){var t=Object(u.a)(d.a.mark((function t(c){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c,t.next=3,f.a.delete("".concat(y,"/api/registry/").concat(n));case 3:t.sent.data.success&&e.getRegistry();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"div-entry-table",children:Object(n.jsxs)(m.a,{dark:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"tr-table",children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Fecha"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Tipo"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Concepto"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Monto"})})]})}),0===e.data.length?Object(n.jsx)(g.a,{color:"info",className:"spinner-table"}):e.data.map((function(c){return"Ingreso"===c.type?Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:Object(n.jsx)("button",{className:"button-remove",onClick:function(){return e=c._id,void z()({title:"\xbfEliminar del registro?",text:"No podr\xe1 recuperar los datos una ves realizada la acci\xf3n!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(c){c?(t(e),z()("Los datos fueron eliminados correctamente",{icon:"success"})):z()("Sus datos fueron conservados")}));var e},children:Object(n.jsx)(A.a,{className:"icon",icon:B.b})})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:c.date})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:c.type})}),Object(n.jsx)(J,{getRegistry:e.getRegistry,id:c._id,data:c.concept}),Object(n.jsx)(P,{getRegistry:e.getRegistry,id:c._id,data:c.amount})]})}):null}))]})})},G=function(e){var t=function(){var t=Object(u.a)(d.a.mark((function t(c){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c,t.next=3,f.a.delete("".concat(y,"/api/registry/").concat(n));case 3:t.sent.data.success&&e.getRegistry();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"div-egress-table",children:Object(n.jsxs)(m.a,{dark:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{className:"tr-table",children:[Object(n.jsx)("th",{}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Fecha"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Tipo"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Concepto"})}),Object(n.jsx)("th",{children:Object(n.jsx)("p",{children:"Monto"})})]})}),0===e.data.length?Object(n.jsx)(g.a,{color:"info",className:"spinner-table"}):e.data.map((function(c){return"Egreso"===c.type?Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"row",children:Object(n.jsx)("button",{className:"button-remove",onClick:function(){return e=c._id,void z()({title:"\xbfEliminar del registro?",text:"No podr\xe1 recuperar los datos una ves realizada la acci\xf3n!",icon:"warning",buttons:!0,dangerMode:!0}).then((function(c){c?(t(e),z()("Los datos fueron eliminados correctamente",{icon:"success"})):z()("Sus datos fueron conservados")}));var e},children:Object(n.jsx)(A.a,{className:"icon",icon:B.b})})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:c.date})}),Object(n.jsx)("td",{children:Object(n.jsx)("p",{children:c.type})}),Object(n.jsx)(J,{getRegistry:e.getRegistry,id:c._id,data:c.concept}),Object(n.jsx)(P,{getRegistry:e.getRegistry,id:c._id,data:c.amount})]})}):null}))]})})},q=function(e){Object(O.a)(c,e);var t=Object(p.a)(c);function c(){var e;Object(b.a)(this,c);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={data:[]},e.getRegistry=Object(u.a)(d.a.mark((function t(){var c,n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("".concat(y,"/api/registry"));case 2:c=t.sent,n=c.data.registry,e.setState({data:n});case 5:case"end":return t.stop()}}),t)}))),e}return Object(h.a)(c,[{key:"componentDidMount",value:function(){this.getRegistry(),window.scrollTo(0,0)}},{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{style:{marginTop:"20vh"},children:[Object(n.jsx)($,{getRegistry:this.getRegistry}),Object(n.jsxs)("div",{className:"table-main-container",children:[Object(n.jsx)(V,{data:this.state.data,getRegistry:this.getRegistry}),Object(n.jsx)(G,{data:this.state.data,getRegistry:this.getRegistry})]})]})})}}]),c}(r.a.Component),K=(c(52),function(){return Object(n.jsx)("div",{className:"footer",children:Object(n.jsx)("p",{children:"\xa9 2020 | Derechos Reservados"})})});c(91);var Q=function(){return Object(n.jsxs)(o.a,{children:[Object(n.jsx)(k,{}),Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{exact:!0,path:"/",component:N}),Object(n.jsx)(j.b,{path:"/operations",component:q}),Object(n.jsx)(j.a,{to:"/"})]}),Object(n.jsx)(K,{})]})};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Q,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.7e6b85b9.chunk.js.map